
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.2">
    
    
      
        <title>Usage - RecipeDoc</title>
      
    
    
      <script src="../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-1b8b9fdf68.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-02ce7adcc2.palette.css">
      
      
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="RecipeDoc" class=" md-logo  md-header-nav__button">
          
            <img src="../img/icon.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Usage
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
          </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-logo  md-nav__button">
      
        <img src="../img/icon.svg">
      
    </i>
    RecipeDoc
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href=".." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../installation/" title="Installation" class="md-nav__link">
        Installation
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Usage
      </label>
    
    <a href="./" title="Usage" class="md-nav__link md-nav__link--active">
      Usage
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#running" title="Running" class="md-nav__link">
    Running
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-gp" title="Configuring GP" class="md-nav__link">
    Configuring GP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#results" title="Results" class="md-nav__link">
    Results
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../about/" title="About" class="md-nav__link">
        About
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../authors/" title="Authors" class="md-nav__link">
        Authors
      </a>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#running" title="Running" class="md-nav__link">
    Running
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-gp" title="Configuring GP" class="md-nav__link">
    Configuring GP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#results" title="Results" class="md-nav__link">
    Results
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
              
                
                  <h1>Usage</h1>
                
                <p><center> <h1> RECIPE </h1> </center></p>
<p><center> <h6>  REsilient ClassifIcation Pipeline Evolution </h6></center></p>
<hr />
<h2 id="running">Running</h2>
<p>After the installation process is complete you can run the algorithm and generate the best pipeline based on the input dataset. To run, execute the following command from the root folder of the source code</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>python2 exec.py -dTr DATATRAIN -dTe DATATEST
</pre></div>
</td></tr></table>

<p>In the project you downloaded there is a folder named datasets. An example of how to use de algorithm for the dataset iris is:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>python2 exec.py -dTr ./datasets/iris/iris-Training0.csv -dTe ./datasets/iris/iris-Test0.csv
</pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input data must be in .csv form regardless the extension of the file.</p>
</div>
<p>RECIPE offers another arguments that can be set by the user.</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Parameter</th>
<th>Valid Values</th>
<th>Effect</th>
<th></th>
</tr>
</thead>
<tbody>

<tr>
<td>-s or --seed</td>
<td>SEED</td>
<td>Positive Integer</td>
<td>Set the seed of the algorithm for reproducibility. Default: 1</td>
<td></td>
</tr>

<tr>
<td>-c or --config</td>
<td>CONFIG</td>
<td>String</td>
<td>A string referring to a configuration file that defines the parameters of the GP. Default: 'config/gecco2015-cfggp.ini'</td>
<td></td>
</tr>

<tr>
<td>-dTr</td>
<td>DATATRAIN</td>
<td>String</td>
<td>A string referring to a file containing the data used to train the pipeline methods</td>
<td></td>
</tr>

<tr>
<td>-dTe</td>
<td>DATATEST</td>
<td>String</td>
<td>A string referring to a file containing the data used to test the pipeline methods</td>
<td></td>
</tr>

<tr>
<td>-nc</td>
<td>NUMBER OF CORES</td>
<td>Positive Integer</td>
<td>Number of cores to be used on the algorithm execution. Default: 1</td>
<td></td>
</tr>

<tr>
<td>-ft</td>
<td>FULL TIMEOUT</td>
<td>Positive Integer</td>
<td>Full time (budget) to execute the whole evolutionary process (in seconds). Default: 0 (i.e., it will look only at the generation count)</td>
<td></td>
</tr> 

<tr>
<td>-t</td>
<td>TIMEOUT</td>
<td>Positive Integer</td>
<td>Time (budget) to execute each individual (i..e, a pipeline) of the GP on evaluation (in seconds). Default: 300</td>
<td></td>
</tr>

<tr>
<td>-mr</td>
<td>MUTATION RATE</td>
<td>Positive Float</td>
<td>It defines the mutation rate for the evolutionary algorithm (max=1.0). Default: 0.1</td>
<td></td>
</tr>

<tr>
<td>-cr</td>
<td>CROSSOVER RATE</td>
<td>Positive Float</td>
<td>It defines the crossover rate for the evolutionary algorithm (max=1.0). Default: 0.9</td>
<td></td>
</tr>

<tr>
<td>-ps</td>
<td>POPULATION SIZE</td>
<td>Positive Integer</td>
<td>It defines the size for the initial population for the evolutionary algorithm. Default: 30</td>
<td></td>
</tr>

<tr>
<td>-gc</td>
<td>GENERATION COUNT</td>
<td>Positive Integer</td>
<td>It defines the maximum number of generations for the evolutionary algorithm. Default: 100</td>
<td></td>
</tr>

<tr>
<td>-gr</td>
<td>GRAMMAR</td>
<td>String</td>
<td>It defines the grammar to be used by RECIPE during its evolutionary process. Default: 'bnf/new_ml.bnf'</td>
<td></td>
</tr>

<tr>
<td>-en</td>
<td>EXPORT_NAME</td>
<td>String</td>
<td>A string with a file name to export pipeline. Default: 'pipeline.py'</td>
<td></td>
</tr>

<tr>
<td>-v</td>
<td>VERBOSITY</td>
<td>Positive Integer</td>
<td>Verbosity level of the output: (3-Full, 2-Intermediate ,1-Basic)</td>
<td></td>
</tr>

</tbody>
</table>
<h2 id="configuring-gp">Configuring GP</h2>
<p>The program comes with a configuration file (folder config) that can be used to set the best parameters to execute the GP.  This file defines the mutation and crossover ratio values, population size, number of generations and elitism.</p>
<h2 id="results">Results</h2>
<p>The program generates 3 files:</p>
<ol>
<li>Evolution-Training: Data regarding the evolution of individuals using the training data. It is found in the directory 'evolution', containing the following measures separated by commas (i.e., ","):  the current generation, the fitness (i.e., f1-weighted) achieved by the worst individual in the population,
the average fitness (i.e., f1-weighted) of the population, the fitness (i.e., f1-weighted) achieved by the best individual in the population. <a href="https://github.com/laic-ufmg/Recipe/blob/master/output_examples/EvoTraining_iris-Training0_s1.csv">Example of the evolutionary file</a>. </li>

<li>Tracking all individuals: A file map containing each evaluated individual and its fitness (i.e., evaluated measure). A pipe ("|") separates the individual from its fitness.<a href="https://github.com/laic-ufmg/Recipe/blob/master/output_examples/fit_iris-Training0s1m0_1c0_9">Example of the tracking file</a>. It is found in the directory 'fit_map'.</li>


<li>Results : Final file containing the best individual found and the values of the metrics on the test set. It is found in the directory 'results', containing the following measures separated by commas (i.e., ","): accuracy on the learning set, precision on the learning set, recall on the learning set, f1 on the learning set, accuracy on the validation set, precision on the validation set, recall on the validation set,f1 on the validation set, accuracy on the training set, precision  on the training set, recall on the training set, f1  on the training set, accuracy on the test set, precision on the test set, recall on the test set, f1 on the test set, the used seed, and the string representing the best pipeline. <a href="https://github.com/laic-ufmg/Recipe/blob/master/output_examples/Result_iris-Test0.csv">Example of the result file</a>. The learning and validation sets come from the training set and all metrics are weighted. </li>


</li>
</ol>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../installation/" title="Installation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Installation
              </span>
            </div>
          </a>
        
        
          <a href="../about/" title="About" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                About
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/RecipeML/Recipe" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-16f434a21a.js"></script>
      <script>var config={url:{base:".."}},app=new Application(config);app.initialize()</script>
      
    
    
      
    
  </body>
</html>
